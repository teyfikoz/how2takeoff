import React, { useState } from 'react';
import { PlusCircle, Database } from 'lucide-react';

const INITIAL_AIRCRAFT_DATA = [
  {
    id: 1,
    model: 'Boeing 737-800',
    capacity: { min: 162, max: 189 },
    range: 5665,
    speed: 842,
    cargoCapacity: 20865,
    emptyWeight: 41413,
    maxTakeoffWeight: 78999,
    fuelCapacity: 26020,
    baseFuelFlow: 2500,
    maxAltitude: 41000,
    fuelEfficiency: 0.031
  },
  {
    id: 2,
    model: 'Airbus A320',
    capacity: { min: 140, max: 240 },
    range: 6300,
    speed: 840,
    cargoCapacity: 23000,
    emptyWeight: 42600,
    maxTakeoffWeight: 78000,
    fuelCapacity: 24210,
    baseFuelFlow: 2400,
    maxAltitude: 39000,
    fuelEfficiency: 0.029
  }
  // Diğer uçaklar da aynı formatta eklenecek
];

const AircraftDatabase = () => {
  const [aircraftData, setAircraftData] = useState(INITIAL_AIRCRAFT_DATA);
  const [showAddForm, setShowAddForm] = useState(false);
  const [newAircraft, setNewAircraft] = useState({
    model: '',
    capacity: { min: 0, max: 0 },
    range: 0,
    speed: 0,
    cargoCapacity: 0,
    emptyWeight: 0,
    maxTakeoffWeight: 0,
    fuelCapacity: 0,
    baseFuelFlow: 0,
    maxAltitude: 0,
    fuelEfficiency: 0
  });

  const handleAddAircraft = () => {
    setAircraftData([...aircraftData, { ...newAircraft, id: aircraftData.length + 1 }]);
    setShowAddForm(false);
    setNewAircraft({
      model: '',
      capacity: { min: 0, max: 0 },
      range: 0,
      speed: 0,
      cargoCapacity: 0,
      emptyWeight: 0,
      maxTakeoffWeight: 0,
      fuelCapacity: 0,
      baseFuelFlow: 0,
      maxAltitude: 0,
      fuelEfficiency: 0
    });
  };

  return (
    <div className="p-6 bg-white rounded-lg shadow-lg">
      <div className="flex justify-between items-center mb-6">
        <div className="flex items-center gap-2">
          <Database className="w-6 h-6 text-blue-500" />
          <h2 className="text-xl font-bold">Aircraft Database</h2>
        </div>
        <button
          onClick={() => setShowAddForm(true)}
          className="flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"
        >
          <PlusCircle className="w-5 h-5" />
          Add New Aircraft
        </button>
      </div>

      {showAddForm && (
        <div className="mb-6 p-4 border rounded-lg">
          <h3 className="font-semibold mb-4">Add New Aircraft</h3>
          <div className="grid grid-cols-3 gap-4">
            <input
              placeholder="Model"
              value={newAircraft.model}
              onChange={(e) => setNewAircraft({...newAircraft, model: e.target.value})}
              className="p-2 border rounded"
            />
            <div className="grid grid-cols-2 gap-2">
              <input
                type="number"
                placeholder="Min Capacity"
                onChange={(e) => setNewAircraft({
                  ...newAircraft, 
                  capacity: {...newAircraft.capacity, min: parseInt(e.target.value)}
                })}
                className="p-2 border rounded"
              />
              <input
                type="number"
                placeholder="Max Capacity"
                onChange={(e) => setNewAircraft({
                  ...newAircraft,
                  capacity: {...newAircraft.capacity, max: parseInt(e.target.value)}
                })}
                className="p-2 border rounded"
              />
            </div>
            <input
              type="number"
              placeholder="Range (km)"
              onChange={(e) => setNewAircraft({...newAircraft, range: parseInt(e.target.value)})}
              className="p-2 border rounded"
            />
            <input
              type="number"
              placeholder="Speed (km/s)"
              onChange={(e) => setNewAircraft({...newAircraft, speed: parseInt(e.target.value)})}
              className="p-2 border rounded"
            />
            <input
              type="number"
              placeholder="Cargo Capacity (kg)"
              onChange={(e) => setNewAircraft({...newAircraft, cargoCapacity: parseInt(e.target.value)})}
              className="p-2 border rounded"
            />
            <input
              type="number"
              placeholder="Empty Weight (kg)"
              onChange={(e) => setNewAircraft({...newAircraft, emptyWeight: parseInt(e.target.value)})}
              className="p-2 border rounded"
            />
            <input
              type="number"
              placeholder="Max Takeoff Weight (kg)"
              onChange={(e) => setNewAircraft({...newAircraft, maxTakeoffWeight: parseInt(e.target.value)})}
              className="p-2 border rounded"
            />
            <input
              type="number"
              placeholder="Fuel Capacity (L)"
              onChange={(e) => setNewAircraft({...newAircraft, fuelCapacity: parseInt(e.target.value)})}
              className="p-2 border rounded"
            />
            <input
              type="number"
              placeholder="Base Fuel Flow (kg/h)"
              onChange={(e) => setNewAircraft({...newAircraft, baseFuelFlow: parseInt(e.target.value)})}
              className="p-2 border rounded"
            />
            <input
              type="number"
              placeholder="Max Altitude (ft)"
              onChange={(e) => setNewAircraft({...newAircraft, maxAltitude: parseInt(e.target.value)})}
              className="p-2 border rounded"
            />
            <input
              type="number"
              step="0.001"
              placeholder="Fuel Efficiency"
              onChange={(e) => setNewAircraft({...newAircraft, fuelEfficiency: parseFloat(e.target.value)})}
              className="p-2 border rounded"
            />
          </div>
          <div className="mt-4 flex justify-end gap-2">
            <button
              onClick={() => setShowAddForm(false)}
              className="px-4 py-2 border rounded hover:bg-gray-50"
            >
              Cancel
            </button>
            <button
              onClick={handleAddAircraft}
              className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
            >
              Save Aircraft
            </button>
          </div>
        </div>
      )}

      <div className="overflow-x-auto">
        <table className="w-full table-auto">
          <thead>
            <tr className="bg-gray-50">
              <th className="p-2 text-left">Model</th>
              <th className="p-2 text-left">Capacity</th>
              <th className="p-2 text-left">Range (km)</th>
              <th className="p-2 text-left">Speed (km/s)</th>
              <th className="p-2 text-left">Cargo (kg)</th>
              <th className="p-2 text-left">Actions</th>
            </tr>
          </thead>
          <tbody>
            {aircraftData.map((aircraft) => (
              <tr key={aircraft.id} className="border-t">
                <td className="p-2">{aircraft.model}</td>
                <td className="p-2">{aircraft.capacity.min}-{aircraft.capacity.max}</td>
                <td className="p-2">{aircraft.range}</td>
                <td className="p-2">{aircraft.speed}</td>
                <td className="p-2">{aircraft.cargoCapacity}</td>
                <td className="p-2">
                  <button className="text-blue-500 hover:text-blue-700">Edit</button>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  );
};

export default AircraftDatabase;